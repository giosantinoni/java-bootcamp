package transactionFactory;

import productFactory.Product;
import implementations.ShoppingCart;

public class PayPal extends Transaction {

	
	private String userName;
	private String password;
	private String email;
	
	public PayPal(ShoppingCart shoppingCart){
		total=shoppingCart.getTotalCost();
		transactionNumber++;
		userName = shoppingCart.getUser().getUserName();
		password = shoppingCart.getUser().getPassword();
		email = shoppingCart.getUser().getEmail();
		calculateDiscount(shoppingCart);
		System.out.println("Credit Card Transaction of $" + totalWithDiscount + " with mail account " +  + " completed");
	}
	
	@Override
	public void calculateDiscount(ShoppingCart shoppingCart){
		Product p = null;
		double cheapestPrice = 0;

		p =  shoppingCart.getProductsList().get(0);
		cheapestPrice = p.getPrice();

		for (Product prod : shoppingCart.getProductsList()) {
			if (prod.getPrice() < cheapestPrice)
				cheapestPrice = p.getPrice();
		}
		totalWithDiscount = total - cheapestPrice;

	}
}
